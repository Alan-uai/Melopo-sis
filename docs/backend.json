{
  "entities": {
    "Poem": {
      "title": "Poem",
      "type": "object",
      "description": "Representa um poema criado e salvo por um usuário.",
      "properties": {
        "title": {
          "type": "string",
          "description": "O título do poema."
        },
        "text": {
          "type": "string",
          "description": "O conteúdo de texto completo do poema."
        },
        "tone": {
            "type": "string",
            "description": "O tom do poema."
        },
        "structure": {
            "type": "string",
            "description": "A estrutura do texto, 'poema' ou 'poesia'."
        },
        "rhyme": {
            "type": "boolean",
            "description": "Indica se o texto deve ter rima."
        },
        "authorId": {
          "type": "string",
          "description": "ID do usuário que criou o poema."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp de quando o poema foi criado."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp da última atualização do poema."
        }
      },
      "required": ["text", "authorId", "createdAt", "updatedAt"]
    },
    "UserProfile": {
      "title": "User Profile",
      "type": "object",
      "description": "Representa o perfil de um usuário no aplicativo.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "O ID de usuário exclusivo do Firebase Auth."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "O endereço de e-mail do usuário."
        },
        "displayName": {
          "type": "string",
          "description": "O nome de exibição do usuário."
        },
        "photoURL": {
            "type": "string",
            "format": "uri",
            "description": "URL da foto de perfil do usuário."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp de quando o perfil do usuário foi criado."
        }
      },
      "required": ["uid", "email", "createdAt"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Armazena perfis de usuários. O {userId} corresponde ao UID do Firebase Auth."
    },
    "/users/{userId}/poems/{poemId}": {
      "schema": { "$ref": "#/entities/Poem" },
      "description": "Armazena poemas criados por um usuário específico."
    }
  }
}
